function deleteStudent(t){if(!confirm("Are you sure you want to delete"))return!1;$.ajax({url:"students/"+t+"/delete",type:"POST",cache:!1,dataType:"Json",success:function(t){1==t.id?($("#result").html(t.text),$("#results").empty(),$("#results").loaddata()):alert("Invalid ID.")}})}$(document).ready(function(){$("#submitData").click(function(t){t.preventDefault();var e=$("#addStudent")[0],a=new FormData(e);$("#submitData").prop("disabled",!0),$.ajax({type:"POST",enctype:"multipart/form-data",url:"students/add",data:a,processData:!1,contentType:!1,cache:!1,timeout:6e3,success:function(t){$("#addStudent").trigger("reset"),$("#submitData").prop("disabled",!1),setTimeout(function(){$("#exampleModal").modal("hide")},300),$("#result").html(t),$(".alert").fadeTo(500,0).slideUp(500,function(){$(this).hide()}),$("#results").empty(),$("#results").loaddata()},error:function(t){$("#result").html(t.responseText),$("#submitData").prop("disabled",!1)}})})}),function(o){function d(e,a){var d=o("<img/>").attr("src",a.loading_gif_url).addClass("text-center"),n=o("<div/>").text(a.end_record_text).addClass("end-record-info");0==loading&&0==end_record&&(loading=!0,e.append(d),o.post(a.data_url,{page:a.start_page},function(t){if(0==t.trim().length)return e.append(n),d.remove(),void(end_record=!0);loading=!1,d.remove(),e.append(t),a.start_page++}))}o.fn.loaddata=function(t){var e=o.extend({loading_gif_url:"../img/spinner.gif",end_record_text:"",data_url:"students/loadMore",start_page:1},t),a=this;loading=!1,end_record=!1,d(a,e),o(window).scroll(function(){o(window).scrollTop()+o(window).height()>=o(document).height()&&d(a,e)})}}(jQuery),$("#results").loaddata(),$(document).ready(function(){$(".bd-example-modal-xl").on("show.bs.modal",function(t){var e=$(t.relatedTarget).data("remote"),a=$(this);$.ajax({url:e,type:"GET",cache:!1,dataType:"Json"}).done(function(t){a.find(".modal-title").text(t.name),a.find(".modal-body ul li.sex>span").html(t.sex),a.find(".modal-body ul li.dob>span").html(t.dob),a.find(".modal-body ul li.email>span").html(t.email)})})});